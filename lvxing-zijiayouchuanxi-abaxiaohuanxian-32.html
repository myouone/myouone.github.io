<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>寻迹中国 第1期 | 川西自驾·阿坝环线：穿越群山脊背的自由之路</title>
    <meta http-equiv="Content-Language" content="zh-CN">
    <meta name="description" content="这里记录了笔者从成都出发返回成都的川西阿坝小环线自驾游攻略和自驾游时拍摄的一些景色。">
    <meta name="keywords" content="旅行,自驾游川西,阿坝小环线" />

    <link rel="icon" href="https://www.myouone.xyz/image/blog.png">
    <link rel="stylesheet" href="https://www.myouone.xyz/tinymce/content.min.css" type="text/css">

    <style>
        /*@font-face {*/
        /*    font-family: 'SourceSerif4Regular'; !* 自定义字体名称，后续用它指定字体 *!*/
        /*    src: url('/SourceSerif4-Regular.otf.woff2') format('woff2'); !* 字体文件路径，/ 开头表示从静态资源根路径找 *!*/
        /*    font-weight: 400; !* 对应常规字重，按需调整 *!*/
        /*    font-style: normal; !* 常规样式，按需调整 *!*/
        /*}*/

        html {
            scroll-behavior: smooth;
        }

        body {
            font-size: 18px;
            line-height: 1.76;
            margin: 0;
            padding: 0;
            font-family: 'SourceSerif4Regular', "Microsoft YaHei", "微软雅黑", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", Segoe UI Symbol, "Noto Color Emoji";
            color: #333333;
        }

        h1 {
            line-height: 1.5;
            font-size: 2rem;
        }

        h2, h3 {
            margin-block-end: 0;
        }

        hr {
            margin-block-start: 0;
        }

        .content-page {
            width: 90%;
            position: relative;
            top: 0;
            left: 0;
            bottom: 0;
            background-color: #FFFFFF;
            overflow-y: auto;
            z-index: 998;
            margin: auto;
            padding: 1px;
        }

        .content-page > * {
            border-radius: 5px;
            border: 0;
            background-color: #FFFFFF;
        }

        .content-page::-webkit-scrollbar {
            display: none;
        }

        pre[class*="language-"] {
            padding: 10px 20px;
            border-radius: 2px;
            /*border: 1px solid #D0D0D0;*/
            box-shadow: 0 0 2px #D0D0D0;
            background-color: #FFFFFF; /* #F8F8F8 */
            white-space: pre-wrap;
            color: #333333;
            font-family: 'SourceSerif4Regular', "Microsoft YaHei", "微软雅黑", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", Segoe UI Symbol, "Noto Color Emoji";
            word-wrap: break-word;
        }

        code {
            background-color: #F3EFE6;
            border-radius: 1px;
        }

        img {
            background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzI3MDY2Mzk1MzQ4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1NjUiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTczLjQ0NzY4IDk1OC4xMTI1MjZTMjg2LjU3NTg4MSA1Ny4zODA2NyA5MTcuMjgxMDU3IDIuNDEwOTUzYzAgMC0yMC43MzQxOTIgMzQxLjM5MDg3NS0yMDIuMDM3ODIgNDc5LjI5NzM1OCAwIDAtMzMuNzUzMzM1IDQ1LjgwODA5OCA3My4yOTI5NTYgMzEuODI0NTczIDAgMC0xMi41MzY5NTMgMTUzLjMzNjU3OS0yMDEuNTU1NjI5IDE5Mi44NzYyIDAgMC0yOC45MzE0MyAyOC45MzE0MyA1NC45Njk3MTcgMzEuODI0NTczIDAgMC04OC43MjMwNTIgMTM3LjQyNDI5My0zMTEuOTc3MjU0IDYzLjY0OTE0NiAwIDAgODkuNjg3NDMzLTIxNi45ODU3MjUgMTY1LjM5MTM0MS0yODkuMzE0M2EyMjA5LjM5Njg3NiAyMjA5LjM5Njg3NiAwIDAgMC0zODUuNzUyNCA0MzEuMDc4MzA4cy0xNS40MzAwOTYgMzUuMTk5OTA3LTM2LjE2NDI4OCAxNC40NjU3MTV6IiBmaWxsPSIjMDEzMjRCIiBwLWlkPSIxNTY2Ij48L3BhdGg+PC9zdmc+) no-repeat center center;
            border: 8px solid #FFFFFF;
            box-shadow: 0 0 2px #D0D0D0;
        }

        .return-top {
            position: fixed;
            top: calc(100vh - 60px);
            left: calc(100vw - 60px);
            width: 35px;
            height: 35px;
            box-shadow: 0 0 2px #D0D0D0;
            border-radius: 2px;
            background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzQ5MDA4MTgxODQ1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDE4MzAgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjYzMzMiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzU3LjQyMTg3NSIgaGVpZ2h0PSIyMDAiPjxwYXRoIGQ9Ik0xNzkyLjk5NDQ0MSA4MzcuMzY0MDM4TDk5MC43MzcyOCAzNS4xMDY4NzdBMTAxLjQxOTg2OCAxMDEuNDE5ODY4IDAgMCAwIDkyMy4xMjQwMzUgMGgtMjAuODA0MDc2YTEwMS40MTk4NjggMTAxLjQxOTg2OCAwIDAgMC02Mi40MTIyMjYgMjcuMzA1MzQ5TDMxLjE0OTI5OCA4MzcuMzY0MDM4YTEwNS4zMjA2MzIgMTA1LjMyMDYzMiAwIDAgMCAwIDE0OS41MjkyOTMgMTA1LjMyMDYzMiAxMDUuMzIwNjMyIDAgMCAwIDE0OS41MjkyOTMgMEw5MTIuNzIxOTk3IDI2Ni41NTIyMTdsNzI1LjU0MjEzMiA3MjYuODQyMzg3YTEwNi42MjA4ODcgMTA2LjYyMDg4NyAwIDAgMCAxNDkuNTI5MjkzIDAgMTA1LjMyMDYzMiAxMDUuMzIwNjMyIDAgMCAwIDUuMjAxMDE5LTE1Ni4wMzA1NjZ6IiBwLWlkPSI2MzM0Ij48L3BhdGg+PC9zdmc+);
            background-size: 15px 15px;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 1000;
            background-color: #FFFFFF;
            cursor: pointer; /* 鼠标悬停时显示手型 */
            -webkit-tap-highlight-color: transparent;  /* 移除Webkit浏览器的高亮颜色 */
            -webkit-touch-callout: none;               /* 禁用长按菜单 */
            -webkit-user-select: none;                 /* 禁用文本选择 */
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            outline: none;                            /* 移除焦点轮廓 */
        }

        .return-top:hover {
            box-shadow: 0 0 4px #D0D0D0;
        }

        a,
        a:link,
        a:visited,
        a:hover,
        a:active,
        a:focus {
            word-wrap: break-word;
            color: #333333; /* 深灰色文字 */
            text-decoration: underline;
            text-decoration-color: #333333; /* 中等灰色下划线 */
            text-decoration-thickness: 1px;
            text-underline-offset: 4px;
            background-color: transparent; /* 确保无背景色变化 */
            outline: none; /* 移除焦点轮廓 */
            cursor: pointer; /* 保持指针样式表明可点击 */
            -webkit-tap-highlight-color: transparent;  /* 移除Webkit浏览器的高亮颜色 */
            -webkit-touch-callout: none;               /* 禁用长按菜单 */
            -webkit-user-select: none;                 /* 禁用文本选择 */
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            outline: none;                            /* 移除焦点轮廓 */
        }

        td {
            padding: 5px;
        }

        table {
            outline: none !important;
        }

        /* 设置前边小黑点的样式 */
        ul li::marker {
            font-size: 0.8em;
            vertical-align: middle;
        }

        ul {
            padding-left: 16px;
        }

        @media screen and (max-width: 1157px) {
            img {
                width: calc(100% - 16px) !important;
                height: 100% !important;
                object-fit: cover;
            }

            table {
                width: 100% !important;
            }

            .return-top {
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body style="height: 100%">

<div class="content-page">
    <!-- 静态内容预览（Thymeleaf渲染） -->
    <div><html>
 <head></head>
 <body>
  <h1 style="text-align: left;" data-mce-style="text-align: left;">寻迹中国 第1期 | 川西自驾·阿坝环线：穿越群山脊背的自由之路</h1>
  <p style="text-align: left; margin-bottom: 50px; color: #333333;">原创 | 来源：<a style="text-underline-offset: 5px; cursor: pointer; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -webkit-tap-highlight-color: transparent;" href="https://www.myouone.xyz">https://www.myouone.xyz</a></p><div id="catalog_div"><h3 style="text-align: right;"><strong>目录</strong></h3>
<hr><p><a style="text-underline-offset: 5px;" href='#heading_1'>Day0：出行准备</a></p><p><a style="text-underline-offset: 5px;" href='#heading_2'>Day1：成都<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>汶川</a></p><p><a style="text-underline-offset: 5px;" href='#heading_3'>Day2：汶川<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>理县<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>红原</a></p><p><a style="text-underline-offset: 5px;" href='#heading_4'>Day3：红原<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>若尔盖<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>松潘</a></p><p><a style="text-underline-offset: 5px;" href='#heading_5'>Day4：松潘<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>-<span style="display: inline-block; text-decoration: none !important;">&nbsp;</span>成都</a></p><p><a style="text-underline-offset: 5px;" href='#heading_6'>相关阅读</a></p></div>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_1">Day0：<span class="ne-text">出行准备</span></h3>
  <hr>
  <p>适合成都打工人的阿坝小环线自驾游之旅，周五下班以后从成都出发，周一请一天假，经历四个自然日，用时三天。</p>
  <pre class="language-markup" contenteditable="false" data-mce-highlighted="true">身份证
充电器、充电宝（否则有用电焦虑）
厚衣服（高原早晚温差大，可能会很冷）
雨衣、雨伞
药品（可以提前预备一些氧气，预防高反）
车辆必备修理工具</pre>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_2">Day1：<span class="ne-text">成都 - 汶川</span></h3>
  <hr>
  <p><span class="ne-text">下班以后从成都出发到汶川，全程140多公里，开车用时2小时，晚上在汶川住。</span></p>
  <p><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1339; object-fit: cover;" src="1/32/005cff9c-8bb3-4a71-a7f2-77330745d1c9.jpg" alt="图片" width="403" height="500" data-mce-src="1/32/005cff9c-8bb3-4a71-a7f2-77330745d1c9.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1339; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1376; object-fit: cover;" src="1/32/575cc0d9-3fcd-4775-8bae-e65c7bf74b2c.jpg" alt="图片" width="314" height="400" data-mce-src="1/32/575cc0d9-3fcd-4775-8bae-e65c7bf74b2c.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1376; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1536; object-fit: cover;" src="1/32/7ca4a4da-11ba-4650-97af-68e16ccb59b8.jpg" alt="图片" data-mce-src="1/32/7ca4a4da-11ba-4650-97af-68e16ccb59b8.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1536; object-fit: cover;"></p>
  <p><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1478; object-fit: cover;" src="1/32/d251fa1c-cc7b-4c44-82a5-6b4c66bf4e23.jpg" alt="图片" data-mce-src="1/32/d251fa1c-cc7b-4c44-82a5-6b4c66bf4e23.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1478; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1393; object-fit: cover;" src="1/32/f4d501d5-aef0-48c5-b7c6-01568e9b0f26.jpg" alt="图片" width="388" height="500" data-mce-src="1/32/f4d501d5-aef0-48c5-b7c6-01568e9b0f26.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1393; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1448; object-fit: cover;" src="1/32/571e42ce-72b7-4153-8bcc-e76d577b69d2.jpg" alt="图片" data-mce-src="1/32/571e42ce-72b7-4153-8bcc-e76d577b69d2.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1448; object-fit: cover;"></p>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_3">Day2：<span class="ne-text">汶川 - 理县 - 红原</span></h3>
  <hr>
  <p><span class="ne-text">第一程：汶川到理县，全程50多公里，用时1小时，早上8点出发，9点左右到毕棚沟景区。</span></p>
  <p><span class="ne-text"><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/b3a10c6e-76ce-4969-b3b8-75defdb3a6c2.jpg" alt="图片" data-mce-src="1/32/b3a10c6e-76ce-4969-b3b8-75defdb3a6c2.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/984c6737-2857-42d0-9b46-f79d77cf8918.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/984c6737-2857-42d0-9b46-f79d77cf8918.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/be899bb3-025a-4c38-84df-615fee2dba84.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/be899bb3-025a-4c38-84df-615fee2dba84.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;">&nbsp;</span><span class="ne-text"> <img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/34fc0b2e-b594-43be-a93c-47bb7c693cd9.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/34fc0b2e-b594-43be-a93c-47bb7c693cd9.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;">&nbsp;&nbsp;</span></p>
  <p><span class="ne-text"><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/622727ea-28d8-4117-a124-3f3f7be9a0cf.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/622727ea-28d8-4117-a124-3f3f7be9a0cf.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/421a2712-e952-4e38-977c-e0a2d33d66a2.jpg" alt="图片" data-mce-src="1/32/421a2712-e952-4e38-977c-e0a2d33d66a2.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"></span><span class="ne-text"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/5c44be02-ec2d-4d70-89d0-386ae3c2eca9.jpg" alt="图片" data-mce-src="1/32/5c44be02-ec2d-4d70-89d0-386ae3c2eca9.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/4d8233fd-a5cd-4347-85c7-29cd63475b85.jpg" alt="图片" data-mce-src="1/32/4d8233fd-a5cd-4347-85c7-29cd63475b85.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;">&nbsp;&nbsp;</span></p>
  <p><span class="ne-text"><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/f36df57f-d574-4602-9b80-98674e5f86fe.jpg" alt="图片" data-mce-src="1/32/f36df57f-d574-4602-9b80-98674e5f86fe.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/b2540513-cb4b-49f5-b158-9e481c5c7ef0.jpg" alt="图片" data-mce-src="1/32/b2540513-cb4b-49f5-b158-9e481c5c7ef0.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"></span><span class="ne-text"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/a5c8787c-8e3e-4140-8deb-497c1c58d956.jpg" alt="图片" data-mce-src="1/32/a5c8787c-8e3e-4140-8deb-497c1c58d956.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/ce896c52-f99e-4667-81bf-16cac1ef91bd.jpg" alt="图片" data-mce-src="1/32/ce896c52-f99e-4667-81bf-16cac1ef91bd.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"></span></p>
  <p><span class="ne-text"><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/bf850695-65f8-4d0a-9653-177cfd08c1ab.jpg" alt="图片" data-mce-src="1/32/bf850695-65f8-4d0a-9653-177cfd08c1ab.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 810; object-fit: cover;" src="1/32/d4530812-74fe-40e3-8770-1902a815364c.jpg" alt="图片" data-mce-src="1/32/d4530812-74fe-40e3-8770-1902a815364c.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 810; object-fit: cover;"></span></p>
  <p><span class="ne-text">第二程：理县到红原，全程220多公里，用时4小时，晚上在红原住，红原可能会有高反，可以买两罐氧气吸，很有效果。</span></p>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_4">Day3：<span class="ne-text">红原 - 若尔盖 - 松潘</span></h3>
  <hr>
  <p><span class="ne-text">第一程：红原到若尔盖，早上8点出发，全程都是大草原，可以骑马，中间会路过黄河九曲第一湾和若尔盖花湖等景点，可以停下来转转。</span></p>
  <p><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/0a30ebe2-471b-4102-b008-6f66831ed786.jpg" alt="图片" data-mce-src="1/32/0a30ebe2-471b-4102-b008-6f66831ed786.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/85be4ef6-0245-491e-9e2d-3ab14f386d3a.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/85be4ef6-0245-491e-9e2d-3ab14f386d3a.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"> &nbsp;<img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;" src="1/32/bedcb0ef-f32e-4626-98f0-f7095dfdaa48.jpg" alt="图片" width="281" height="500" data-mce-src="1/32/bedcb0ef-f32e-4626-98f0-f7095dfdaa48.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1080 / 1920; object-fit: cover;"></p>
  <p><span class="ne-text">第二程：若尔盖到松潘，全程150多公里，用时两个半小时，晚上在松潘住，如果在红原和若尔盖遭遇高反，松潘海拔较低，在松潘住可以缓解症状。</span></p>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_5">Day4：<span class="ne-text">松潘 - 成都</span></h3>
  <hr>
  <p><span class="ne-text">返回成都，全程330多公里，用时五个半小时，途经叠溪海子观景台可以拍拍照，中午在茂县吃饭，推荐品尝羌族特色菜。</span></p>
  <p><img style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1920 / 1080; object-fit: cover;" src="1/32/2c960c30-c7a4-4dfd-990c-28e1e3d4e147.jpg" alt="图片" width="889" height="500" data-mce-src="1/32/2c960c30-c7a4-4dfd-990c-28e1e3d4e147.jpg" data-mce-style="max-width: 950px; width: auto; height: 500px; aspect-ratio: 1920 / 1080; object-fit: cover;"></p>
  <h3 style="text-align: right;" data-mce-style="text-align: right;" id="heading_6">相关阅读</h3>
  <hr>
  <p>后一篇：<a href="https://www.myouone.xyz/lvxing-xinzhougucheng-172.html" data-mce-href="https://www.myouone.xyz/lvxing-xinzhougucheng-172.html">寻迹中国 第2期 | 文化寻踪·忻州古城：坍圮城墙里的文明切片</a></p>
 </body>
</html></div>
</div>

<div id="return_top" class="return-top"></div>

<script>
    function scrollBehavior(e) {

        // 阻止a标签的默认行为
        if (e.currentTarget.tagName === 'A') {

            e.preventDefault();
        }

        // 确定目标位置
        let targetY;

        if (e.currentTarget.id === 'return_top') {

            // 回到顶部按钮 - 滚动到页面顶部
            targetY = 0;
        } else {

            // 锚点链接 - 获取href指向的元素位置
            const href = e.currentTarget.getAttribute('href');
            const targetElement = document.querySelector(href);

            if (!targetElement) {

                console.warn('未找到目标元素:', href);
                return;
            }

            // 计算目标元素的垂直位置
            const targetRect = targetElement.getBoundingClientRect();
            targetY = targetRect.top + window.pageYOffset;
        }

        // 计算当前位置到目标位置的距离
        const currentY = window.pageYOffset;
        const distance = Math.abs(targetY - currentY);

        // console.log('当前位置:', currentY, '目标位置:', targetY, '距离:', distance);

        // 滚动逻辑 - 根据距离选择滚动方式
        if (distance < 2000) {

            // 近距离使用直接跳转
            window.scrollTo({
                top: targetY,
                behavior: 'instant' // 或者直接使用 window.scrollTo(0, targetY)
            });
        } else if (distance < 10000) {

            // 近距离使用平滑滚动
            window.scrollTo({
                top: targetY,
                behavior: 'smooth'
            });
        } else {

            // 远距离使用直接跳转（性能更好）
            window.scrollTo({
                top: targetY,
                behavior: 'instant' // 或者直接使用 window.scrollTo(0, targetY)
            });
        }
    }

    function scrollTop() {

        window.scrollTo({
            top: 0
        });
    }

    document.addEventListener('DOMContentLoaded', function() {

        // 针对你的锚点链接的代码
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {

            anchor.addEventListener('click', scrollBehavior);
        });

        document.querySelector('#return_top').addEventListener('click', scrollBehavior);

        const isEInkDevice = localStorage.getItem('isEInkDevice');
        if (isEInkDevice === 'true') {

            // 移除默认事件
            document.querySelector('#return_top').removeEventListener('click', scrollBehavior);
            document.querySelector('#return_top').addEventListener('click', scrollTop);

            document.querySelectorAll('img').forEach(img => {

                img.style.width = 'calc(100% - 16px)';
                img.style.height = '100%';
                img.style.objectFit = 'cover';
            });

            const returnTopDom = document.querySelector('#return_top');
            returnTopDom.style.border = '2px solid #f0f0f0';
            returnTopDom.style.boxShadow = 'none';
        }
    });

    class FontManager {

        constructor() {
            this.fontUrl = '/SourceSerif4-Regular.otf.woff2';
            this.fontFamily = 'SourceSerif4Regular';
            this.fontKey = 'cached-font-data';
            this.loadingMask = null;
            this.isFontLoaded = false;
        }

        async init() {

            const cachedData = localStorage.getItem(this.fontKey);

            // 先隐藏页面内容，防止抖动
            this.hideContent();

            if (cachedData) {
                this.createFontFromCache(cachedData);
            } else {
                await this.downloadAndCacheFont();
            }

            // 等待字体加载完成
            await this.waitForFontLoad();
            this.showContent();
        }

        async downloadAndCacheFont() {

            try {

                const response = await fetch(this.fontUrl);
                if (!response.ok) throw new Error('下载失败');

                const arrayBuffer = await response.arrayBuffer();

                // 存储 ArrayBuffer 为 Base64
                const base64 = btoa(
                    new Uint8Array(arrayBuffer).reduce(
                        (data, byte) => data + String.fromCharCode(byte), ''
                    )
                );
                localStorage.setItem(this.fontKey, base64);

                this.createFontFromArrayBuffer(arrayBuffer);

            } catch (error) {
                console.error('字体加载失败:', error);
                // 即使失败也要显示内容
                this.showContent();
                this.hideLoadingMask();
            }
        }

        createFontFromCache(base64Data) {

            const binaryString = atob(base64Data);
            const bytes = new Uint8Array(binaryString.length);
            for (let i = 0; i < binaryString.length; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            this.createFontFromArrayBuffer(bytes.buffer);
        }

        createFontFromArrayBuffer(arrayBuffer) {

            const blob = new Blob([arrayBuffer], { type: 'font/woff2' });
            const fontUrl = URL.createObjectURL(blob);
            this.injectFontStyle(fontUrl);
        }

        injectFontStyle(fontUrl) {

            // 移除已存在的样式
            const existingStyle = document.getElementById(this.fontKey);
            if (existingStyle) existingStyle.remove();

            // 创建新样式
            const style = document.createElement('style');
            style.id = this.fontKey;
            style.textContent = `
                @font-face {
                  font-family: '${this.fontFamily}';
                  src: url(${fontUrl}) format('woff2');
                  font-display: block; /* 修改为 block，防止文本闪烁 */
                  font-weight: normal;
                  font-style: normal;
                }

                /* 临时隐藏使用该字体的元素 */
                .font-loading * {
                  visibility: hidden !important;
                }
            `;
            document.head.appendChild(style);
        }

        // 等待字体加载完成
        waitForFontLoad() {

            return new Promise((resolve) => {

                // 如果字体已经加载，立即解析
                if (this.isFontLoaded) {

                    resolve();
                    return;
                }

                // 使用 Font Loading API 检测字体加载
                if (document.fonts && document.fonts.ready) {

                    document.fonts.ready.then(() => {
                        this.isFontLoaded = true;
                        resolve();
                    });
                } else {

                    // 降级方案：等待一小段时间
                    setTimeout(() => {
                        this.isFontLoaded = true;
                        resolve();
                    }, 100);
                }

                // 额外检查：如果特定字体已加载
                if (document.fonts) {

                    document.fonts.load(`1em ${this.fontFamily}`).then(() => {
                        this.isFontLoaded = true;
                        resolve();
                    });
                }
            });
        }

        // 隐藏页面内容
        hideContent() {
            document.documentElement.classList.add('font-loading');
        }

        // 显示页面内容
        showContent() {

            document.documentElement.classList.remove('font-loading');
            this.isFontLoaded = true;
        }

        // 显示加载遮罩
        showLoadingMask() {
            if (this.loadingMask) {
                this.loadingMask.remove();
            }

            this.loadingMask = document.createElement('div');
            this.loadingMask.id = 'font_loading_mask';
            this.loadingMask.innerHTML = `
                <div style="
                  position: fixed;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  background: #FFFFFF;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  z-index: 9999;
                  font-family: system-ui, -apple-system, sans-serif;
                  color: #333;
                  font-size: 18px;
                "></div>
                `;

            document.body.appendChild(this.loadingMask);
        }

        // 隐藏加载遮罩
        hideLoadingMask() {

            const mask = document.querySelector('#font_loading_mask');

            if (mask) {

                // 添加淡出效果
                mask.style.transition = 'opacity 0.3s ease';
                mask.style.opacity = '0';

                // 等待过渡完成后移除元素
                setTimeout(() => {

                    if (mask && mask.parentNode) {

                        mask.remove();
                    }
                    this.loadingMask = null;
                }, 300);
            }
        }

        // 可选：清除缓存（调试用）
        clearCache() {

            localStorage.removeItem(this.fontKey);
            const style = document.getElementById(this.fontKey);
            if (style) style.remove();
            this.isFontLoaded = false;
            console.log('字体缓存已清除');
        }
    }

    // 页面加载时自动初始化
    document.addEventListener('DOMContentLoaded', function() {

        (async () => {
            const fontManager = new FontManager();
            fontManager.showLoadingMask();
            await new Promise(resolve => setTimeout(resolve, 200));
            fontManager.init();
            fontManager.hideLoadingMask();
        })();
    });
</script>
</body>
</html>